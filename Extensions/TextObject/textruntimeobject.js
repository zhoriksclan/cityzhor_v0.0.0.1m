var gdjs;(function(s){class n extends s.RuntimeObject{constructor(e,r){super(e,r);this._useGradient=!1;this._gradient=[];this._gradientType="";this.opacity=255;this._wrapping=!1;this._wrappingWidth=100;this._padding=5;this._scaleX=1;this._scaleY=1;const t=r.content;this._characterSize=Math.max(1,t.characterSize),this._fontName=t.font,this._bold=t.bold,this._italic=t.italic,this._underlined=t.underlined,this._color=s.rgbOrHexToRGBColor(t.color),this._str=t.text,this._textAlign=t.textAlignment||"left",this._verticalTextAlignment=t.verticalTextAlignment||"top",this._isOutlineEnabled=t.isOutlineEnabled,this._outlineThickness=t.outlineThickness,this._outlineColor=s.rgbOrHexToRGBColor(t.outlineColor),this._shadow=t.isShadowEnabled,this._shadowColor=s.rgbOrHexToRGBColor(t.shadowColor),this._shadowOpacity=t.shadowOpacity,this._shadowDistance=t.shadowDistance,this._shadowBlur=t.shadowBlurRadius,this._shadowAngle=t.shadowAngle,this._lineHeight=t.lineHeight||0,this._renderer=new s.TextRuntimeObjectRenderer(this,e),this.onCreated()}updateFromObjectData(e,r){const t=e.content,i=r.content;return t.characterSize!==i.characterSize&&this.setCharacterSize(i.characterSize),t.font!==i.font&&this.setFontName(i.font),t.bold!==i.bold&&this.setBold(i.bold),t.italic!==i.italic&&this.setItalic(i.italic),t.color!==i.color&&this.setColor(i.color),t.text!==i.text&&this.setText(i.text),t.underlined!==i.underlined?!1:(t.textAlignment!==i.textAlignment&&this.setTextAlignment(i.textAlignment),t.verticalTextAlignment!==i.verticalTextAlignment&&this.setVerticalTextAlignment(i.verticalTextAlignment),t.isOutlineEnabled!==i.isOutlineEnabled&&this.setOutlineEnabled(i.isOutlineEnabled),t.outlineThickness!==i.outlineThickness&&this.setOutlineThickness(i.outlineThickness),t.outlineColor!==i.outlineColor&&this.setOutlineColor(i.outlineColor),t.isShadowEnabled!==i.isShadowEnabled&&this.showShadow(i.isShadowEnabled),t.shadowColor!==i.shadowColor&&this.setShadowColor(i.shadowColor),t.shadowOpacity!==i.shadowOpacity&&this.setShadowOpacity(i.shadowOpacity),t.shadowDistance!==i.shadowDistance&&this.setShadowDistance(i.shadowDistance),t.shadowAngle!==i.shadowAngle&&this.setShadowAngle(i.shadowAngle),t.shadowBlurRadius!==i.shadowBlurRadius&&this.setShadowBlurRadius(i.shadowBlurRadius),(t.lineHeight||0)!==(i.lineHeight||0)&&this.setLineHeight(i.lineHeight||0),!0)}getNetworkSyncData(){return{...super.getNetworkSyncData(),str:this._str,o:this.opacity,cs:this._characterSize,fn:this._fontName,b:this._bold,i:this._italic,u:this._underlined,c:this._color,scale:this.getScale(),ta:this._textAlign,wrap:this._wrapping,wrapw:this._wrappingWidth,oena:this._isOutlineEnabled,ot:this._outlineThickness,oc:this._outlineColor,sh:this._shadow,shc:this._shadowColor,sho:this._shadowOpacity,shd:this._shadowDistance,sha:this._shadowAngle,shb:this._shadowBlur,lh:this._lineHeight,pad:this._padding}}updateFromNetworkSyncData(e){super.updateFromNetworkSyncData(e),e.str!==void 0&&this.setText(e.str),e.o!==void 0&&this.setOpacity(e.o),e.cs!==void 0&&this.setCharacterSize(e.cs),e.fn!==void 0&&this.setFontName(e.fn),e.b!==void 0&&this.setBold(e.b),e.i!==void 0&&this.setItalic(e.i),e.u!==void 0&&(this._underlined=e.u),e.c!==void 0&&(this._color=e.c),e.scale!==void 0&&this.setScale(e.scale),e.ta!==void 0&&this.setTextAlignment(e.ta),e.ta!==void 0&&this.setVerticalTextAlignment(e.ta),e.wrap!==void 0&&this.setWrapping(e.wrap),e.wrapw!==void 0&&this.setWrappingWidth(e.wrapw),e.oena!==void 0&&this.setOutlineEnabled(e.oena),e.ot!==void 0&&this.setOutlineThickness(e.ot),e.oc!==void 0&&(this._outlineColor=e.oc),e.sh!==void 0&&this.showShadow(e.sh),e.shc!==void 0&&(this._shadowColor=e.shc),e.sho!==void 0&&this.setShadowOpacity(e.sho),e.shd!==void 0&&this.setShadowDistance(e.shd),e.sha!==void 0&&this.setShadowAngle(e.sha),e.shb!==void 0&&this.setShadowBlurRadius(e.shb),e.lh!==void 0&&this.setLineHeight(e.lh),e.pad!==void 0&&this.setPadding(e.pad)}getRendererObject(){return this._renderer.getRendererObject()}update(e){this._renderer.ensureUpToDate()}onDestroyed(){super.onDestroyed(),this._renderer.destroy()}extraInitializationFromInitialInstance(e){e.customSize?(this.setWrappingWidth(e.width),this.setWrapping(!0)):this.setWrapping(!1),e.opacity!==void 0&&this.setOpacity(e.opacity)}_updateTextPosition(){this.invalidateHitboxes(),this._renderer.updatePosition()}setX(e){super.setX(e),this._updateTextPosition()}setY(e){super.setY(e),this._updateTextPosition()}setAngle(e){super.setAngle(e),this._renderer.updateAngle()}setOpacity(e){e<0&&(e=0),e>255&&(e=255),this.opacity=e,this._renderer.updateOpacity()}getOpacity(){return this.opacity}getString(){return this.getText()}setString(e){this.setText(e)}getText(){return this._str}setText(e){e!==this._str&&(this._str=e,this._renderer.updateString(),this._updateTextPosition())}getCharacterSize(){return this._characterSize}setCharacterSize(e){e<=1&&(e=1),this._characterSize=e,this._renderer.updateStyle()}getLineHeight(){return this._lineHeight}setLineHeight(e){this._lineHeight=e,this._renderer.updateStyle()}setFontName(e){this._fontName=e,this._renderer.updateStyle()}isBold(){return this._bold}setBold(e){this._bold=e,this._renderer.updateStyle()}isItalic(){return this._italic}setItalic(e){this._italic=e,this._renderer.updateStyle()}getWidth(){return this._wrapping?this._wrappingWidth:this._renderer.getWidth()}getHeight(){return this._renderer.getHeight()}getScaleMean(){return(Math.abs(this._scaleX)+Math.abs(this._scaleY))/2}getScale(){const e=Math.abs(this._scaleX),r=Math.abs(this._scaleY);return e===r?e:Math.sqrt(e*r)}getScaleX(){return this._scaleX}getScaleY(){return this._scaleY}setScale(e){this._scaleX===e&&this._scaleY===e||(this._scaleX=e,this._scaleY=e,this._renderer.setScale(e),this.invalidateHitboxes())}setScaleX(e){this._scaleX!==e&&(this._scaleX=e,this._renderer.setScaleX(e),this.invalidateHitboxes())}setScaleY(e){this._scaleY!==e&&(this._scaleY=e,this._renderer.setScaleY(e),this.invalidateHitboxes())}setColor(e){this._color=s.rgbOrHexToRGBColor(e),this._useGradient=!1,this._renderer.updateStyle()}getColor(){return this._color[0]+";"+this._color[1]+";"+this._color[2]}setVerticalTextAlignment(e){this._verticalTextAlignment=e,this._renderer.updateStyle()}getVerticalTextAlignment(){return this._verticalTextAlignment}setTextAlignment(e){this._textAlign=e,this._renderer.updateStyle()}getTextAlignment(){return this._textAlign}isWrapping(){return this._wrapping}setWrapping(e){this._wrapping!==e&&(this._wrapping=e,this._renderer.updateStyle(),this.invalidateHitboxes())}getWrappingWidth(){return this._wrappingWidth}setWrappingWidth(e){e<=1&&(e=1),this._wrappingWidth!==e&&(this._wrappingWidth=e,this._wrapping&&(this._renderer.updateStyle(),this.invalidateHitboxes()))}setWidth(e){this.setWrappingWidth(e)}getDrawableY(){return this.getY()-(this._verticalTextAlignment==="center"?this.getHeight()/2:this._verticalTextAlignment==="bottom"?this.getHeight():0)}setOutline(e,r){this._outlineColor=s.rgbOrHexToRGBColor(e),this._outlineThickness=r,this._renderer.updateStyle()}isOutlineEnabled(){return this._isOutlineEnabled}setOutlineEnabled(e){this._isOutlineEnabled=e,this._renderer.updateStyle()}getOutlineThickness(){return this._outlineThickness}setOutlineThickness(e){this._outlineThickness=e,this._renderer.updateStyle()}setOutlineColor(e){this._outlineColor=s.rgbOrHexToRGBColor(e),this._renderer.updateStyle()}setShadow(e,r,t,i){this._shadowColor=s.rgbOrHexToRGBColor(e),this._shadowDistance=r,this._shadowBlur=t,this._shadowAngle=i,this._shadow=!0,this._renderer.updateStyle()}isShadowEnabled(){return this._shadow}showShadow(e){this._shadow=e,this._renderer.updateStyle()}getShadowOpacity(){return this._shadowOpacity}setShadowOpacity(e){this._shadowOpacity=e,this._renderer.updateStyle()}getShadowDistance(){return this._shadowDistance}setShadowDistance(e){this._shadowDistance=e,this._renderer.updateStyle()}getShadowAngle(){return this._shadowAngle}setShadowAngle(e){this._shadowAngle=e,this._renderer.updateStyle()}getShadowBlurRadius(){return this._shadowBlur}setShadowBlurRadius(e){this._shadowBlur=e,this._renderer.updateStyle()}setShadowColor(e){this._shadowColor=s.rgbOrHexToRGBColor(e),this._renderer.updateStyle()}setGradient(e,r,t,i,o){this._gradient=[],r&&this._gradient.push(s.rgbOrHexToRGBColor(r)),t&&this._gradient.push(s.rgbOrHexToRGBColor(t)),i&&this._gradient.push(s.rgbOrHexToRGBColor(i)),o&&this._gradient.push(s.rgbOrHexToRGBColor(o)),this._gradientType=e,this._useGradient=this._gradient.length>1,this._renderer.updateStyle()}getPadding(){return this._padding}setPadding(e){this._padding=e,this._renderer.updateStyle()}}s.TextRuntimeObject=n,s.registerObject("TextObject::Text",s.TextRuntimeObject)})(gdjs||(gdjs={}));
//# sourceMappingURL=textruntimeobject.js.map
